; dBm-Now | ESP32 RF Probe & Path Loss Analyzer (v4.0)
; Build: pio run | Upload: pio run -t upload | Monitor: pio device monitor
; Flash all 3 ESP32s after code changes: run script flash_all.ps1 (or flash each: -e esp32dev, -e esp32dev_com29, -e esp32dev_com31)

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 921600
; Set to the COM port for the ESP32 you want to upload/monitor (e.g. COM5 or COM29)
upload_port = COM5
monitor_port = COM5
; Bridge mode needs WiFiManager + PubSubClient (inherited by esp32dev_com29, esp32dev_com31)
lib_deps =
    tzapu/WiFiManager@^2.0.17
    knolleary/PubSubClient@^2.8

; Second ESP32 on COM29
[env:esp32dev_com29]
extends = env:esp32dev
upload_port = COM29
monitor_port = COM29

; Third ESP32 on COM31
[env:esp32dev_com31]
extends = env:esp32dev
upload_port = COM31
monitor_port = COM31

; Optional: other ESP32 boards (uncomment and pio run -e <env>)
; [env:esp32-c3-devkitm-1]
; platform = espressif32
; board = esp32-c3-devkitm-1
; framework = arduino
; lib_deps = ${env:esp32dev.lib_deps}
